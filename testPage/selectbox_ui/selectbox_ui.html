<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="select.css"/>
<title>OUIF : Select</title>
<style type="text/css">
h1{ font:20px Tahoma;}
</style>
</head>
<body>
<h1>Anchor : Drop Down Link</h1>
<div class="select open" style="width:200px;">
	<span class="ctrl"><span class="arrow"></span></span>
	<button type="button" class="myValue">Select Link</button>
	<ul class="aList">
		<li><a href="#1">Link_1</a></li>
		<li><a href="#2">Link_2</a></li>
		<li><a href="#3">Link_3</a></li>
	</ul>
</div>
<div class="select open" style="width:200px;">
	<span class="ctrl"><span class="arrow"></span></span>
	<button type="button" class="myValue">Select Link</button>
	<ul class="aList">
		<li><a href="#1">Link_1</a></li>
		<li><a href="#2">Link_2</a></li>
		<li><a href="#3">Link_3</a></li>
	</ul>
</div>
<hr />
<h1>Single Select Form : Radio Input(Emulate Select/Option)</h1>
<form action="">
	<div class="select open" style="width:200px;">
		<span class="ctrl"><span class="arrow"></span></span>
		<div class="myValue"></div>
		<ul class="iList">
			<li><input name="c" id="c0" class="option" type="radio" checked="checked" /><label for="c0">Select Option1</label></li>
			<li><input name="c" id="c1" class="option" type="radio" value="" /><label for="c1">Option_1</label></li>
			<li><input name="c" id="c2" class="option" type="radio" value="" /><label for="c2">Option_2</label></li>
			<li><input name="c" id="c3" class="option" type="radio" value="" /><label for="c3">Option_3</label></li>
		</ul>
	</div>
	<div class="select open" style="width:200px;">
		<span class="ctrl"><span class="arrow"></span></span>
		<div class="myValue"></div>
		<ul class="iList">
			<li><input name="d" id="d0" class="option" type="radio" checked="checked" /><label for="d0">Select Option2</label></li>
			<li><input name="d" id="d1" class="option" type="radio" value="" /><label for="d1">Option_1</label></li>
			<li><input name="d" id="d2" class="option" type="radio" value="" /><label for="d2">Option_2</label></li>
			<li><input name="d" id="d3" class="option" type="radio" value="" /><label for="d3">Option_3</label></li>
		</ul>
	</div>
	<button type="submit">GO</button>
	<button type="reset">RESET</button>
</form>
<hr />
<button type="button" onclick="$('link').attr('href', ''); $('*').attr('style','')">CSS(X)</button>
<button type="button" onclick="location.reload()">CSS(O)</button>
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript">
	jQuery(function($){
	
	// Common
	var select_root = $('div.select');
	var select_value = $('.myValue');
	var select_a = $('div.select>ul>li>a');
	var select_input = $('div.select>ul>li>input[type=radio]');
	var select_label = $('div.select>ul>li>label');
	
	// Radio Default Value
	$('div.myValue').each(function(){
		var default_value = $(this).next('.iList').find('input[checked]').next('label').text();
		$(this).append(default_value);
	});
	
	// Line
	select_value.bind('focusin',function(){$(this).addClass('outLine');});
	select_value.bind('focusout',function(){$(this).removeClass('outLine');});
	select_input.bind('focusin',function(){$(this).parents('div.select').children('div.myValue').addClass('outLine');});
	select_input.bind('focusout',function(){$(this).parents('div.select').children('div.myValue').removeClass('outLine');});
	
	// Show
	function show_option(){
		$(this).parents('div.select:first').toggleClass('open');
	}
	
	// Hover
	function i_hover(){
		$(this).parents('ul:first').children('li').removeClass('hover');
		$(this).parents('li:first').toggleClass('hover');
	}
	
	// Hide
	function hide_option(){
		var t = $(this);
		setTimeout(function(){
			t.parents('div.select:first').removeClass('open');
		}, 1);
	}
	
	// Set Input
	function set_label(){
		var v = $(this).next('label').text();
		$(this).parents('ul:first').prev('.myValue').text('').append(v);
		$(this).parents('ul:first').prev('.myValue').addClass('selected');
	}
	
	// Set Anchor
	function set_anchor(){
		var v = $(this).text();
		$(this).parents('ul:first').prev('.myValue').text('').append(v);
		$(this).parents('ul:first').prev('.myValue').addClass('selected');
	}

	// Anchor Focus Out
	$('*:not("div.select a")').focus(function(){
		$('.aList').parent('.select').removeClass('open');
	});
	
	select_value.click(show_option);
	select_root.find('ul').css('position','absolute');
	select_root.removeClass('open');
	select_root.mouseleave(function(){$(this).removeClass('open');});
	select_a.click(set_anchor).click(hide_option).focus(i_hover).hover(i_hover);
	select_input.change(set_label).focus(set_label);
	select_label.hover(i_hover).click(hide_option);
	
	// Form Reset
	$('input[type="reset"], button[type="reset"]').click(function(){
		$(this).parents('form:first').find('.myValue').each(function(){
			var origin = $(this).next('ul:first').find('li:first label').text();
			$(this).text(origin).removeClass('selected');
		});
	});
	
});
</script>
</body>
</html>


